parameters:
    tms_media.storage_mapper.class: Tms\Bundle\MediaBundle\StorageMapper\StorageMapper

services:
    tms_media.manager:
        class: Tms\Bundle\MediaBundle\Service\Manager
        arguments: [@doctrine.orm.entity_manager, @service_container, %tms_media.default_store_path%]

    tms_media.storage_mapper:
        class: %tms_media.storage_mapper.class%
        arguments: [null, null]
        abstract: true

    tms_media.rule.min_size:
        class: Tms\Bundle\MediaBundle\StorageMapper\Rule\MinSizeRule
        arguments: [null]
        public: false
        abstract: true
        tags:
            - { name: tms_media.mapper.rule, alias: min_size }

    tms_media.rule.max_size:
        class: Tms\Bundle\MediaBundle\StorageMapper\Rule\MaxSizeRule
        arguments: [null]
        public: false
        abstract: true
        tags:
            - { name: tms_media.mapper.rule, alias: max_size }

    tms_media.rule.mime_types:
        class: Tms\Bundle\MediaBundle\StorageMapper\Rule\MimeTypesRule
        arguments: [null]
        public: false
        abstract: true
        tags:
            - { name: tms_media.mapper.rule, alias: mime_types }

    tms_media.rule.created_before:
        class: Tms\Bundle\MediaBundle\StorageMapper\Rule\CreatedBeforeRule
        arguments: [null]
        public: false
        abstract: true
        tags:
            - { name: tms_media.mapper.rule, alias: created_before }

    tms_media.rule.created_after:
        class: Tms\Bundle\MediaBundle\StorageMapper\Rule\CreatedAfterRule
        arguments: [null]
        public: false
        abstract: true
        tags:
            - { name: tms_media.mapper.rule, alias: created_after }
